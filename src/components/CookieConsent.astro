---
---

<div id="cookie-consent" class="cookie-consent" role="dialog" aria-label="Çerez bildirimi" hidden>
  <div class="cookie-consent__inner wrap">
    <p class="cookie-consent__text">
      Sitemizde deneyiminizi iyileştirmek ve reklamları kişiselleştirmek için çerezler kullanılıyor olabilir. Detaylar için <a href="/cerez-bildirimi">Çerez bildirimi</a> ve <a href="/gizlilik-politikasi">Gizlilik politikası</a> sayfalarını inceleyebilirsiniz.
    </p>
    <div class="cookie-consent__actions">
      <button type="button" class="cookie-consent__btn cookie-consent__btn--reject" data-action="reject">Reddet</button>
      <button type="button" class="cookie-consent__btn cookie-consent__btn--accept" data-action="accept">Kabul et</button>
    </div>
  </div>
</div>

<script is:inline>
  (function () {
    var KEY = 'arizakodlari_consent';
    var MAX_AGE = 31536000; // 1 yıl

    var bar = document.getElementById('cookie-consent');
    if (!bar) return;

    function getConsent() {
      try {
        var v = localStorage.getItem(KEY);
        if (v === 'accepted' || v === 'rejected') return v;
        v = sessionStorage.getItem(KEY);
        if (v === 'accepted' || v === 'rejected') return v;
        var r = new RegExp('(?:^|;)\\s*' + KEY.replace(/[.*+?^${}()|[\]\\]/g, '\\$&') + '=([^;]*)');
        var m = document.cookie.match(r);
        return m ? m[1].trim() : null;
      } catch (e) { return null; }
    }

    function setConsent(action) {
      try {
        localStorage.setItem(KEY, action);
        sessionStorage.setItem(KEY, action);
        var parts = [KEY + '=' + action, 'path=/', 'max-age=' + MAX_AGE, 'SameSite=Lax'];
        if (location.protocol === 'https:') parts.push('Secure');
        document.cookie = parts.join('; ');
      } catch (e) {}
    }

    var saved = getConsent();
    if (saved === 'accepted' || saved === 'rejected') return;

    bar.hidden = false;
    document.body.classList.add('cookie-consent-visible');

    function close(action) {
      setConsent(action);
      bar.hidden = true;
      document.body.classList.remove('cookie-consent-visible');
    }

    bar.querySelectorAll('[data-action]').forEach(function(btn) {
      btn.addEventListener('click', function() { close(btn.getAttribute('data-action')); });
    });
  })();
</script>
